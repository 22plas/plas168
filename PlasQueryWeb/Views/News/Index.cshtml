@{
    ViewBag.Title = "塑料行业新闻资讯";
    ViewBag.keywords = "塑蚁网,塑胶物性,物性表,塑料搜索,塑蚁网新闻资讯,塑胶行业实时新闻|资讯";
    ViewBag.DescCentent = "塑蚁网是国内最精准永久免费塑料和助剂搜索平台，拥有行内最齐全的产品数据信息及在此基础上的智能检索、材料替换、材料推荐等功能，提供物性表及COA、MSDS、UL、FDA、ROHS、REACH等材质证明文书下载技术支持。";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>行业新闻</title>
    <link href="~/Content/css/Pagination.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="~/Content/css/iconfont.css" />
    <style type="text/css">
        html, body {
            background:#f2f2f2;
        }
        .allboxdiv {
            width: 100%;
            height: auto;
        }
        .topnewsitem {
            width: 100%;
            line-height: 25px;
            font-size: 14px;
            color: #333333;
            letter-spacing: 2px;
            text-indent:15px;
        }
        .topnewsitemspan {
            color: #268EC8;
            cursor: pointer;margin-top:10px;
            display:block;
        }



        .aui-ellipsis {
            display: -webkit-box;
            overflow: hidden;
            text-overflow: ellipsis;
            word-wrap: break-word;
            word-break: break-all;
            white-space: normal !important;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
        }

        .aui-ellipsis-1 {
            display: -webkit-box;
            overflow: hidden;
            text-overflow: ellipsis;
            word-wrap: break-word;
            word-break: break-all;
            white-space: normal !important;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
        }
    </style>
</head>
@*@Html.Partial("~/Views/Public/SubPageNav.cshtml")*@
@Html.Partial("~/Views/Public/PubSearch.cshtml")
<body>
    <div id="allboxdiv" class="allboxdiv">
        <div style="width:70%;height:auto;margin:0 auto;margin-top:20px;">
            <div style="width:calc(100% - 286px);height:auto;float:left;">
                <div style="width:100%;height:auto; background:#ffffff;">
                    <div style="width:95%;height:310px;margin:0 auto;" v-for="(vi,index) in toplist">
                        <div style="width:100%;height:310px;cursor:pointer;" v-bind:id="vi.ID" onclick="todetail(this)">
                            <div style="width:100%;height:50px;line-height:50px;color:#666666;font-size:20px;font-weight:700;letter-spacing:1px;cursor:pointer;" class="aui-ellipsis-1">
                                {{vi.Title}}
                            </div>
                            <div style="width:100%;height:260px;">
                                <div style="width:60%;height:260px;float:left;">
                                    <img v-bind:src="vi.HomeImg" style="width:98%;height:250px;margin:0 auto;margin-top:5px;" />
                                </div>
                                <div style="width:40%;height:260px;float:left;">
                                    <div style="width:95%;height:260px;margin:0 auto;">
                                        <div style="width:100%;height:50px;">
                                            <span style="height:50px;line-height:50px;color:#FF776F;font-size:14px;font-weight:700;letter-spacing:1px;">热点推荐</span>
                                            <span style="height:50px;line-height:50px;color:#FF776F;font-size:14px;font-weight:700;letter-spacing:1px;">|</span>
                                            <span style="height:50px;line-height:50px;color:#666666;font-size:14px;font-weight:700;letter-spacing:1px;">{{vi.CreateDate}}</span>
                                        </div>
                                        <div class="topnewsitem aui-ellipsis-6">
                                            {{vi.DescMsg}}
                                        </div><span class="topnewsitemspan">[阅读全文]</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="width:100%;height:300px;">
                        <div style="width:95%;height:300px;margin:0 auto;">
                            <div style="width:30%;height:260px;float:left;margin-top:20px;cursor:pointer;">
                                <div style="width:100%;height:180px;">
                                    <img src="~/Content/img/topnews1.png" style="width:100%;height:180px;margin:0 auto;" />
                                </div>
                                <div style="width:100%;height:80px;">
                                    <div style="width:100%;height:25px;line-height:25px;color:#333333;font-size:16px;font-weight:700;margin-top:5px;">
                                        塑料行情
                                    </div>
                                    <div style="width:100%;height:45px;color:#666666;font-size:14px;line-height:20px;margin-top:5px;">
                                        上午国内PVC市场延续平稳，期货挺价震荡 拷贝现货货源不多 拷贝
                                    </div>
                                </div>
                            </div>
                            <div style="width:30%;height:260px;float:left;margin-top:20px;cursor:pointer;margin-left:4%;">
                                <div style="width:100%;height:180px;">
                                    <img src="~/Content/img/topnewsyyal.png" style="width:100%;height:180px;margin:0 auto;" />
                                </div>
                                <div style="width:100%;height:80px;">
                                    <div style="width:100%;height:25px;line-height:25px;color:#333333;font-size:16px;font-weight:700;margin-top:5px;">
                                        应用案例
                                    </div>
                                    <div style="width:100%;height:45px;color:#666666;font-size:14px;line-height:20px;margin-top:5px;">
                                        上午国内PVC市场延续平稳，期货挺价震荡现货货源不多
                                    </div>
                                </div>
                            </div>
                            <div style="width:30%;height:260px;float:left;margin-top:20px;cursor:pointer;margin-left:4%;">
                                <div style="width:100%;height:180px;">
                                    <img src="~/Content/img/topnewsslzx.png" style="width:100%;height:180px;margin:0 auto;" />
                                </div>
                                <div style="width:100%;height:80px;">
                                    <div style="width:100%;height:25px;line-height:25px;color:#333333;font-size:16px;font-weight:700;margin-top:5px;">
                                        塑料行情
                                    </div>
                                    <div style="width:100%;height:45px;color:#666666;font-size:14px;line-height:20px;margin-top:5px;">
                                        上午国内PVC市场延续平稳，期货挺价震荡 拷贝现货货源不多
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="width:100%;min-height:100px;height:auto;margin-top:20px; background:#ffffff;border-radius:2px;" v-for="(vn,index) in newlist">
                    <div style="width:100%;height:auto;cursor:pointer;" v-bind:id="vn.ID" onclick="todetail(this)">
                        <div style="width:95%;height:50px;margin:0 auto;line-height:50px;font-size:20px;color:#646464;font-weight:700;letter-spacing:1.5px;" class="aui-ellipsis-1">
                            {{vn.Title}}
                        </div>
                        <div style="width:95%;height:30px;margin:0 auto;margin-bottom:5px;">
                            <div style="width:30%;height:30px;float:left;line-height:30px;font-size:14px;color:#999999;">
                                {{vn.CreateDate}}
                            </div>
                            <div style="width:30%;height:30px;float:right;line-height:30px;font-size:14px;color:#999999;text-align:right;">
                                <i class="iconfont suyiliulan" style="font-size:16px;margin-left:2px;color:#666666;margin-right:3px;"></i>{{vn.HIt}}
                            </div>
                        </div>
                        <div v-if="vn.HomeImg!=''" style="width:95%;height:270px;margin:0 auto;">
                            <img v-bind:src="vn.HomeImg" style="width:100%;height:100%;border:0px;" />
                        </div>
                        <div style="width:100%;min-height:60px;max-height:120px;margin-top:15px;">
                            <div style="width:95%;min-height:60px;max-height:120px;margin:0 auto;font-size:14px;color:#646464;line-height:25px;">
                                {{vn.DescMsg}}
                            </div>
                        </div>
                    </div>                    
                    <div style="width:100%;height:15px;"></div>
                </div>
            </div>
            <div style="width:265px;height:auto;float:left;margin-left:21px;">
                <div style="width:95%;height:auto;float:right;background:#ffffff;">
                    <div style="width:100%;height:50px;border-bottom:1px solid #dddddd;line-height:50px;color:#333333;font-size:16px;font-weight:700;text-indent:15px;letter-spacing:2px;">
                        本周排行榜
                    </div>
                    <div style="width:100%;height:10px;"></div>
                    <div style="width:100%;height:auto;">
                        <div style="width:100%;height:40px;" v-for="(vb,index) in bzphlist">
                            <div style="width:85%;height:40px;margin:0 auto;cursor:pointer;" v-bind:id="vb.ID" onclick="todetail(this)">
                                <span style="width:18px;height:18px;border-radius:180px;line-height:17px;text-align:center;font-size:10px;float:left;display:block;margin-top:10px;" v-bind:style="vb.stylestr">
                                    {{index+1}}
                                </span>
                                <span style="width:190px;height:40px;float:left;font-size:14px;color:#666666;line-height:40px;text-indent:10px;" class="aui-ellipsis-1">
                                    {{vb.Title}}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="width:100%;height:10px;"></div>
                </div>

                <div style="width:95%;height:auto;min-height:120px; float:right;background:#ffffff;margin-top:20px;">
                    <div style="width:100%;height:50px;border-bottom:1px solid #dddddd;line-height:50px;color:#333333;font-size:16px;font-weight:700;text-indent:15px;letter-spacing:2px;">
                        网站公告
                    </div>
                    <div style="width:100%;height:10px;"></div>
                    <div style="width:100%;height:auto;">
                        <div style="width:100%;height:40px;" v-for="(vg,index) in gglist">
                            <div style="width:85%;height:40px;margin:0 auto;cursor:pointer;" v-bind:id="vg.ID" onclick="todetail(this)">
                                <span style="height:40px;line-height:40px;text-align:center;float:left;display:block;color:#ffffff;">
                                    <i class="iconfont suyidian" style="margin-right:2px;color:#666666;font-size:12px;"></i>
                                </span>
                                <span style="width:190px;height:40px;line-height:40px;float:left;font-size:14px;color:#666666;text-indent:10px;" class="aui-ellipsis-1">
                                    {{vg.Title}}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="width:95%;height:auto;float:right;background:#ffffff;margin-top:20px;">
                    <div style="width:100%;height:50px;border-bottom:1px solid #dddddd;line-height:50px;color:#333333;font-size:16px;font-weight:700;text-indent:15px;letter-spacing:2px;">
                        热点推荐
                    </div>
                    <div style="width:100%;height:10px;"></div>
                    <div style="width:100%;height:auto;">
                        <div style="width:100%;height:40px;" v-for="(vr,index) in rdtjlist">
                            <div style="width:85%;height:40px;margin:0 auto;cursor:pointer;" v-bind:id="vr.ID" onclick="todetail(this)">
                                <span style="width:18px;height:18px;border-radius:180px;line-height:17px;text-align:center;font-size:10px;float:left;display:block;margin-top:10px;" v-bind:style="vr.stylestr">
                                    {{index+1}}
                                </span>
                                <span style="width:190px;height:40px;float:left;font-size:14px;color:#666666;line-height:40px;text-indent:10px;" class="aui-ellipsis-1">
                                    {{vr.Title}}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div style="width:100%;height:10px;"></div>
                </div>

            </div>
        </div>
        <div style="width:100%;height:50px;clear:both;"></div>
    </div>    
</body>
</html>

@Html.Partial("~/Views/Public/Bottom.cshtml")
<script src="~/Content/js/vue.js" type="text/javascript"></script>
<script src="~/Content/js/jquery-2.1.1.js" type="text/javascript"></script>
<script src="~/Content/js/scriptbreaker-multiple-accordion-1.js" type="text/javascript"></script>
<script language="JavaScript">
    var vm = new Vue({
        el: '#allboxdiv',
        data: {
            toplist: [],//顶部热门推荐
            newlist: [],//最新
            gglist: [],//首页平台公告新闻数据
            bzphlist: [], //本周排行
            rdtjlist: []//热点推荐
        },
        methods: {
            init: function () {
                $.ajax({
                    type: "get",
                    dataType: "JSON",
                    url: '/News/GetNewsData',
                    data: "",
                    async: false,
                    success: function (data) {
                        var returnstate = data.State;
                        if (returnstate == "Success")
                        {
                            var resultdata = data.Result;
                            vm.toplist = resultdata.toplist;
                            vm.newlist = resultdata.newlist;
                            vm.gglist = resultdata.gglist;

                            var temprdtjlist = resultdata.rdtjlist;
                            var tempbzphlist = resultdata.bzphlist;
                            if (tempbzphlist.length>0) {
                                for (var i = 0; i < tempbzphlist.length; i++) {
                                    if (i == 0) {
                                        tempbzphlist[i]["stylestr"] = "background:#FF6450;color:#ffffff;";
                                    }
                                    else if (i > 0 && i <= 2) {
                                        tempbzphlist[i]["stylestr"] = "background:#FFA800;color:#ffffff;";
                                    }
                                    else {
                                        tempbzphlist[i]["stylestr"] = "background:#EFEFEF;color:#333333;";
                                    }
                                    vm.bzphlist.push(tempbzphlist[i]);
                                }
                            }
                            if (temprdtjlist.length>0) {
                                for (var i = 0; i < temprdtjlist.length; i++) {
                                    if (i == 0) {
                                        temprdtjlist[i]["stylestr"] = "background:#FF6450;color:#ffffff;";
                                    }
                                    else if (i > 0 && i <= 2) {
                                        temprdtjlist[i]["stylestr"] = "background:#FFA800;color:#ffffff;";
                                    }
                                    else {
                                        temprdtjlist[i]["stylestr"] = "background:#EFEFEF;color:#333333;";
                                    }
                                    vm.rdtjlist.push(temprdtjlist[i]);
                                }
                            }
                        }
                    },
                    error: function () { layer.msg('Load the data failure!', { icon: 5 }); }
                });
            },
            //加载新闻数据
            load: function (classid) {
                $.ajax({
                    type: "get",
                    dataType: "JSON",
                    url: '/AppApi/GetNewClass',
                    data: "prodid=" + pid,
                    async: false,
                    success: function (json) {
                        //alert(JSON.stringify(json));
                        var productData = json.Result;
                        if (productData.length > 0) {
                            //vm.classlist = productData;
                            for (var i = 0; i < productData.length; i++) {
                                if (i == 0) {
                                    productData[i]["class"] = "activebtn";
                                }
                                else {
                                    productData[i]["class"] = "";
                                }
                                vm.classlist.push(productData[i]);
                            }
                        }
                        else {
                        }
                    },
                    error: function () { layer.msg('Load the data failure!', { icon: 5 }); }
                });
            }
        }
    });

    $(document).ready(function () {
        vm.init();
    });
    //跳转详情
    function todetail(t) {
        var id = t.id;
        var turl = "/News/Detail/?id=" + id;
        window.open(turl);
    }
</script>
